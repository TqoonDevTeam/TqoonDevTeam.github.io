---
title: "View 개발 with angularJs"
description: "서비스작성가이드 > 3. View 개발 with angularJs"
tags: [개발가이드, 프론트엔드, view, angualrJs]
history:
  - version: '1.0'
    date: '2019-09-09'
    user: '최동호'
    desc: '초안'
---
# 3. View 개발 with angularJs

## 3.1. 소개
이 문서는 프론트엔드 개발 중 View를 개발하는 방법에 대한 설명과 예제를 담고 있습니다.

## 3.2. View 개발
View는 .NET MVC 기술과 함께 DOM의 제어를 위해 angularJs MVW 디자인패턴을 사용하고 있습니다.

따라서, .NET MVC 전통적인 View 개발 패턴을 사용하여 DOM을 구성하고, 구성된 DOM은 angularJs를 이용하여 컨트롤 합니다.
정적일 필요가 있는 페이지는 서버사이드 스크립트만을 이용하여 구성하되, 화면에서 동적인 반응이 필요한 경우 angularJs를 사용하여 페이지를 다시 랜더링하지 않고 빠른 응답을 할 수 있도록 처리하고 있습니다.
그리고 모든 View는 모바일 친화적으로 만들어 지며, SPA 기술을 사용할 수도 있습니다.

아래 모듈타입별 실제 파일 구성표를 참고하여 모듈타입에 따라 Controller와 View, Scripts 파일을 구성하고 개발하십시오.

```diff
📁Areas
├── 📁Page
|   ├── 📁Controllers
|   |   └── SimpleUserInfoManagementController.cs
|   └── 📁Model
|       └── 📁SimpleUserInfoManagement
|           └── 📁i18n
|           |   └── Index-locale.js
|           └── Index.cshtml /* Page의 Action 라우팅은 기본 Index로 연결된다. */
├── 📁PageSub
|   ├── 📁Controllers
|   |   └── MyPageSubController.cs
|   └── 📁Model
|       └── 📁MyPageSub
|           └── 📁i18n
|           |   └── MyPageSub-locale.js
|           └── MyPageSub.cshtml /* PageSub의 Action 라우팅은 기본 모듈명으로 연결된다. */
└── 📁Plugins
    ├── 📁Controllers
    |   └── MyPluginsController.cs
    └── 📁Model
        └── 📁MyPlugins
            └── 📁i18n
            |   └── MyPlugins-locale.js
            └── MyPlugins.cshtml /* Plugins의 Action 라우팅은 기본 모듈명으로 연결된다. */
```

### 3.2.1. Controller 작성
Controller는 모듈 타입에 맞는 지원객제를 상속받아 생성하게 됩니다.
아래 각 Areas 지원객체별 Route규칙과 특징 확인하십시오.

| Controller 지원객체 | Route규칙 | 특징 |
| --- | --- |
| AbstractPageController | {controller}/{action}/{?id} | 유일하게 라우팅되는 페이지를 구성할 수 있는 지원객체 입니다. 이 컨트롤러 만이 ViewResult를 반환할 수 있습니다.<br>{action} 라우팅 기본값은 Index 입니다.<br>{?id} 라우팅은 옵션입니다. |
| AbstractPageSubController | PageSub/{controller}/{action}/{?id} | PageSub모듈의 부분 페이지를 구성할 수 있는 컨트롤러 입니다. 이 컨트롤러는 ViewResult를 반환할 수 없습니다. View의 반환은 오직 PartialViewResult 만을 반환합니다.<br>{action} 의 라우팅 기본값은 라우팅되는 controller명과 같습니다. 입니다.<br>{?id} 라우팅은 옵션입니다. |
| AbstractPluginsSubController | Plugins/{controller}/{action}/{?id} | Plugins모듈의 부분 페이지를 구성할 수 있는 컨트롤러 입니다. 이 컨트롤러는 ViewResult를 반환할 수 없습니다. View의 반환은 오직 PartialViewResult 만을 반환합니다.<br>{action} 의 라우팅 기본값은 라우팅되는 controller명과 같습니다. 입니다.<br>{?id} 라우팅은 옵션입니다. |

다음 Controller 작성 예제에서 모듈별 ReturnType에 주의 해 주십시오. (ActionResult or ViewResult, PartialViewResult)
```cs
public class SimpleUserInfoManagementController : AbstractPageController
{
  // ActionResult or ViewResult
  public ActionResult Index()
  {
    return View();
  }
}

public class MyPageSubController : AbstractPageSubController
{
  public PartialViewResult MyPageSub()
  {
    return PartialView();
  }
}

public class MyPluginsController : AbstractPluginsController
{
  public PartialViewResult MyPlugins()
  {
    return PartialView();
  }
}
```


### 3.2.2. View 작성
.NET MVC(Razor) 기술을 사용하여 페이지를 랜더링할 수 있습니다.
다만, .NET MVC기술에서 Model을 사용할 때 다음의 규칙을 준수해야 합니다.
1. Controller는 세션을 사용하지 않아야 합니다. 세션사용을 허용하지 않습니다.
2. Model은 ViewBag만을 이용하여 View에 전달합니다.
3. ViewBag 그대로나 동적인 속성에는 여러 타입을 사용할 수 있지만 다음의 제약을 준수해야 합니다.
  - 객체의 경우 VO같은 리터럴한 객체를 사용해야 합니다.
  - 백엔드에서 사용하는 객체는 엔티티객체나 모델객체만을 사용할 수 있습니다.
4. Model은 정적일 필요가 있는 페이지를 개발할 때 주로 사용합니다. (ex, DOM의 변화가 없는 컨텐츠 표시)

#### 3.2.2.1. 모듈에 다른 모듈을 포함시키기
적재 패턴을 가지는 Page, PageSub, Plugins 모듈들은 다른 모듈을 포함 시킬 수 있습니다.

##### V2모듈의 적재구조
<div style="max-width:1000px">
<svg alt="V2모듈의적재구조" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0.0 0.0 960.0 240.0" fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10"><clipPath id="g63a57a1fbc_2_0.0"><path d="m0 0l960.0 0l0 540.0l-960.0 0l0 -540.0z" clip-rule="nonzero"/></clipPath><g clip-path="url(#g63a57a1fbc_2_0.0)"><path fill="#ffffff" d="m0 0l960.0 0l0 540.0l-960.0 0z" fill-rule="evenodd"/><path fill="#000000" fill-opacity="0.0" d="m60.929134 175.74297l0 0c0 -5.0851746 4.122349 -9.207535 9.207531 -9.207535l818.52985 0c2.4419556 0 4.7839355 0.9700775 6.510681 2.6968231c1.7267456 1.7267456 2.6968384 4.0687256 2.6968384 6.5107117l0 36.829025c0 5.08519 -4.1223755 9.207535 -9.20752 9.207535l-818.52985 0c-5.085182 0 -9.207531 -4.122345 -9.207531 -9.207535z" fill-rule="evenodd"/><path stroke="#595959" stroke-width="1.0" stroke-linejoin="round" stroke-linecap="butt" d="m60.929134 175.74297l0 0c0 -5.0851746 4.122349 -9.207535 9.207531 -9.207535l818.52985 0c2.4419556 0 4.7839355 0.9700775 6.510681 2.6968231c1.7267456 1.7267456 2.6968384 4.0687256 2.6968384 6.5107117l0 36.829025c0 5.08519 -4.1223755 9.207535 -9.20752 9.207535l-818.52985 0c-5.085182 0 -9.207531 -4.122345 -9.207531 -9.207535z" fill-rule="evenodd"/><path fill="#000000" d="m459.05368 201.07748l0 -13.359375l5.046875 0q1.328125 0 2.03125 0.125q0.96875 0.171875 1.640625 0.640625q0.671875 0.453125 1.078125 1.28125q0.40625 0.828125 0.40625 1.828125q0 1.703125 -1.09375 2.890625q-1.078125 1.171875 -3.921875 1.171875l-3.421875 0l0 5.421875l-1.765625 0zm1.765625 -7.0l3.453125 0q1.71875 0 2.4375 -0.640625q0.71875 -0.640625 0.71875 -1.796875q0 -0.84375 -0.421875 -1.4375q-0.421875 -0.59375 -1.125 -0.78125q-0.4375 -0.125 -1.640625 -0.125l-3.421875 0l0 4.78125zm16.787323 5.8125q-0.921875 0.765625 -1.765625 1.09375q-0.828125 0.3125 -1.796875 0.3125q-1.59375 0 -2.453125 -0.78125q-0.859375 -0.78125 -0.859375 -1.984375q0 -0.71875 0.328125 -1.296875q0.328125 -0.59375 0.84375 -0.9375q0.53125 -0.359375 1.1875 -0.546875q0.46875 -0.125 1.453125 -0.25q1.984375 -0.234375 2.921875 -0.5625q0.015625 -0.34375 0.015625 -0.421875q0 -1.0 -0.46875 -1.421875q-0.625 -0.546875 -1.875 -0.546875q-1.15625 0 -1.703125 0.40625q-0.546875 0.40625 -0.8125 1.421875l-1.609375 -0.21875q0.21875 -1.015625 0.71875 -1.640625q0.5 -0.640625 1.453125 -0.984375q0.953125 -0.34375 2.1875 -0.34375q1.25 0 2.015625 0.296875q0.78125 0.28125 1.140625 0.734375q0.375 0.4375 0.515625 1.109375q0.078125 0.421875 0.078125 1.515625l0 2.1875q0 2.28125 0.109375 2.890625q0.109375 0.59375 0.40625 1.15625l-1.703125 0q-0.265625 -0.515625 -0.328125 -1.1875zm-0.140625 -3.671875q-0.890625 0.375 -2.671875 0.625q-1.015625 0.140625 -1.4375 0.328125q-0.421875 0.1875 -0.65625 0.53125q-0.21875 0.34375 -0.21875 0.78125q0 0.65625 0.5 1.09375q0.5 0.4375 1.453125 0.4375q0.9375 0 1.671875 -0.40625q0.75 -0.421875 1.09375 -1.140625q0.265625 -0.5625 0.265625 -1.640625l0 -0.609375zm3.8913574 5.65625l1.59375 0.234375q0.109375 0.75 0.5625 1.078125q0.609375 0.453125 1.671875 0.453125q1.140625 0 1.75 -0.453125q0.625 -0.453125 0.84375 -1.265625q0.125 -0.5 0.109375 -2.109375q-1.0625 1.265625 -2.671875 1.265625q-2.0 0 -3.09375 -1.4375q-1.09375 -1.4375 -1.09375 -3.453125q0 -1.390625 0.5 -2.5625q0.515625 -1.171875 1.453125 -1.796875q0.953125 -0.640625 2.25 -0.640625q1.703125 0 2.8125 1.375l0 -1.15625l1.515625 0l0 8.359375q0 2.265625 -0.46875 3.203125q-0.453125 0.9375 -1.453125 1.484375q-0.984375 0.546875 -2.453125 0.546875q-1.71875 0 -2.796875 -0.78125q-1.0625 -0.765625 -1.03125 -2.34375zm1.359375 -5.8125q0 1.90625 0.75 2.78125q0.765625 0.875 1.90625 0.875q1.125 0 1.890625 -0.859375q0.765625 -0.875 0.765625 -2.734375q0 -1.78125 -0.796875 -2.671875q-0.78125 -0.90625 -1.890625 -0.90625q-1.09375 0 -1.859375 0.890625q-0.765625 0.875 -0.765625 2.625zm15.953827 1.90625l1.6875 0.203125q-0.40625 1.484375 -1.484375 2.3125q-1.078125 0.8125 -2.765625 0.8125q-2.125 0 -3.375 -1.296875q-1.234375 -1.3125 -1.234375 -3.671875q0 -2.453125 1.25 -3.796875q1.265625 -1.34375 3.265625 -1.34375q1.9375 0 3.15625 1.328125q1.234375 1.3125 1.234375 3.703125q0 0.15625 0 0.4375l-7.21875 0q0.09375 1.59375 0.90625 2.453125q0.8125 0.84375 2.015625 0.84375q0.90625 0 1.546875 -0.46875q0.640625 -0.484375 1.015625 -1.515625zm-5.390625 -2.65625l5.40625 0q-0.109375 -1.21875 -0.625 -1.828125q-0.78125 -0.953125 -2.03125 -0.953125q-1.125 0 -1.90625 0.765625q-0.765625 0.75 -0.84375 2.015625z" fill-rule="nonzero"/><path fill="#000000" fill-opacity="0.0" d="m60.929134 104.87682l0 0c0 -5.085182 4.122349 -9.207535 9.207531 -9.207535l390.49832 0c2.441986 0 4.783966 0.9700775 6.5107117 2.6968231c1.7267456 1.7267532 2.6968384 4.0687256 2.6968384 6.5107117l0 36.829033c0 5.0851746 -4.1223755 9.207535 -9.20755 9.207535l-390.49832 0l0 0c-5.085182 0 -9.207531 -4.12236 -9.207531 -9.207535z" fill-rule="evenodd"/><path stroke="#595959" stroke-width="1.0" stroke-linejoin="round" stroke-linecap="butt" d="m60.929134 104.87682l0 0c0 -5.085182 4.122349 -9.207535 9.207531 -9.207535l390.49832 0c2.441986 0 4.783966 0.9700775 6.5107117 2.6968231c1.7267456 1.7267532 2.6968384 4.0687256 2.6968384 6.5107117l0 36.829033c0 5.0851746 -4.1223755 9.207535 -9.20755 9.207535l-390.49832 0l0 0c-5.085182 0 -9.207531 -4.12236 -9.207531 -9.207535z" fill-rule="evenodd"/><path fill="#000000" d="m228.44048 130.21133l0 -13.359375l5.046875 0q1.328125 0 2.03125 0.125q0.96875 0.171875 1.640625 0.640625q0.671875 0.453125 1.078125 1.28125q0.40625 0.828125 0.40625 1.828125q0 1.703125 -1.09375 2.890625q-1.078125 1.171875 -3.921875 1.171875l-3.421875 0l0 5.421875l-1.765625 0zm1.765625 -7.0l3.453125 0q1.71875 0 2.4375 -0.640625q0.71875 -0.640625 0.71875 -1.796875q0 -0.84375 -0.421875 -1.4375q-0.421875 -0.59375 -1.125 -0.78125q-0.4375 -0.125 -1.640625 -0.125l-3.421875 0l0 4.78125zm16.787323 5.8125q-0.921875 0.765625 -1.765625 1.09375q-0.828125 0.3125 -1.796875 0.3125q-1.59375 0 -2.453125 -0.78125q-0.859375 -0.78125 -0.859375 -1.984375q0 -0.71875 0.328125 -1.296875q0.328125 -0.59375 0.84375 -0.9375q0.53125 -0.359375 1.1875 -0.546875q0.46875 -0.125 1.453125 -0.25q1.984375 -0.234375 2.921875 -0.5625q0.015625 -0.34375 0.015625 -0.421875q0 -1.0 -0.46875 -1.421875q-0.625 -0.546875 -1.875 -0.546875q-1.15625 0 -1.703125 0.40625q-0.546875 0.40625 -0.8125 1.421875l-1.609375 -0.21875q0.21875 -1.015625 0.71875 -1.640625q0.5 -0.640625 1.453125 -0.984375q0.953125 -0.34375 2.1875 -0.34375q1.25 0 2.015625 0.296875q0.78125 0.28125 1.140625 0.734375q0.375 0.4375 0.515625 1.109375q0.078125 0.421875 0.078125 1.515625l0 2.1875q0 2.28125 0.109375 2.890625q0.109375 0.59375 0.40625 1.15625l-1.703125 0q-0.265625 -0.515625 -0.328125 -1.1875zm-0.140625 -3.671875q-0.890625 0.375 -2.671875 0.625q-1.015625 0.140625 -1.4375 0.328125q-0.421875 0.1875 -0.65625 0.53125q-0.21875 0.34375 -0.21875 0.78125q0 0.65625 0.5 1.09375q0.5 0.4375 1.453125 0.4375q0.9375 0 1.671875 -0.40625q0.75 -0.421875 1.09375 -1.140625q0.265625 -0.5625 0.265625 -1.640625l0 -0.609375zm3.8913422 5.65625l1.59375 0.234375q0.109375 0.75 0.5625 1.078125q0.609375 0.453125 1.671875 0.453125q1.140625 0 1.75 -0.453125q0.625 -0.453125 0.84375 -1.265625q0.125 -0.5 0.109375 -2.109375q-1.0625 1.265625 -2.671875 1.265625q-2.0 0 -3.09375 -1.4375q-1.09375 -1.4375 -1.09375 -3.453125q0 -1.390625 0.5 -2.5625q0.515625 -1.171875 1.453125 -1.796875q0.953125 -0.640625 2.25 -0.640625q1.703125 0 2.8125 1.375l0 -1.15625l1.515625 0l0 8.359375q0 2.265625 -0.46875 3.203125q-0.453125 0.9375 -1.453125 1.484375q-0.984375 0.546875 -2.453125 0.546875q-1.71875 0 -2.796875 -0.78125q-1.0625 -0.765625 -1.03125 -2.34375zm1.359375 -5.8125q0 1.90625 0.75 2.78125q0.765625 0.875 1.90625 0.875q1.125 0 1.890625 -0.859375q0.765625 -0.875 0.765625 -2.734375q0 -1.78125 -0.796875 -2.671875q-0.78125 -0.90625 -1.890625 -0.90625q-1.09375 0 -1.859375 0.890625q-0.765625 0.875 -0.765625 2.625zm15.953827 1.90625l1.6875 0.203125q-0.40625 1.484375 -1.484375 2.3125q-1.078125 0.8125 -2.765625 0.8125q-2.125 0 -3.375 -1.296875q-1.234375 -1.3125 -1.234375 -3.671875q0 -2.453125 1.25 -3.796875q1.265625 -1.34375 3.265625 -1.34375q1.9375 0 3.15625 1.328125q1.234375 1.3125 1.234375 3.703125q0 0.15625 0 0.4375l-7.21875 0q0.09375 1.59375 0.90625 2.453125q0.8125 0.84375 2.015625 0.84375q0.90625 0 1.546875 -0.46875q0.640625 -0.484375 1.015625 -1.515625zm-5.390625 -2.65625l5.40625 0q-0.109375 -1.21875 -0.625 -1.828125q-0.78125 -0.953125 -2.03125 -0.953125q-1.125 0 -1.90625 0.765625q-0.765625 0.75 -0.84375 2.015625zm8.750732 1.46875l1.65625 -0.140625q0.125 1.0 0.546875 1.640625q0.4375 0.640625 1.34375 1.046875q0.921875 0.390625 2.0625 0.390625q1.0 0 1.78125 -0.296875q0.78125 -0.296875 1.15625 -0.8125q0.375 -0.53125 0.375 -1.15625q0 -0.625 -0.375 -1.09375q-0.359375 -0.46875 -1.1875 -0.796875q-0.546875 -0.203125 -2.390625 -0.640625q-1.828125 -0.453125 -2.5625 -0.84375q-0.96875 -0.5 -1.4375 -1.234375q-0.46875 -0.75 -0.46875 -1.671875q0 -1.0 0.578125 -1.875q0.578125 -0.890625 1.671875 -1.34375q1.109375 -0.453125 2.453125 -0.453125q1.484375 0 2.609375 0.484375q1.140625 0.46875 1.75 1.40625q0.609375 0.921875 0.65625 2.09375l-1.6875 0.125q-0.140625 -1.265625 -0.9375 -1.90625q-0.78125 -0.65625 -2.3125 -0.65625q-1.609375 0 -2.34375 0.59375q-0.734375 0.59375 -0.734375 1.421875q0 0.71875 0.53125 1.171875q0.5 0.46875 2.65625 0.96875q2.15625 0.484375 2.953125 0.84375q1.171875 0.53125 1.71875 1.359375q0.5625 0.828125 0.5625 1.90625q0 1.0625 -0.609375 2.015625q-0.609375 0.9375 -1.75 1.46875q-1.140625 0.515625 -2.578125 0.515625q-1.8125 0 -3.046875 -0.53125q-1.21875 -0.53125 -1.921875 -1.59375q-0.6875 -1.0625 -0.71875 -2.40625zm19.162323 4.296875l0 -1.421875q-1.125 1.640625 -3.0625 1.640625q-0.859375 0 -1.609375 -0.328125q-0.734375 -0.328125 -1.09375 -0.828125q-0.359375 -0.5 -0.5 -1.21875q-0.109375 -0.46875 -0.109375 -1.53125l0 -5.984375l1.640625 0l0 5.359375q0 1.28125 0.109375 1.734375q0.15625 0.640625 0.65625 1.015625q0.5 0.375 1.234375 0.375q0.734375 0 1.375 -0.375q0.65625 -0.390625 0.921875 -1.03125q0.265625 -0.65625 0.265625 -1.890625l0 -5.1875l1.640625 0l0 9.671875l-1.46875 0zm5.547577 0l-1.515625 0l0 -13.359375l1.640625 0l0 4.765625q1.046875 -1.296875 2.65625 -1.296875q0.890625 0 1.6875 0.359375q0.796875 0.359375 1.3125 1.015625q0.515625 0.640625 0.796875 1.5625q0.296875 0.921875 0.296875 1.96875q0 2.484375 -1.234375 3.84375q-1.21875 1.359375 -2.953125 1.359375q-1.703125 0 -2.6875 -1.4375l0 1.21875zm-0.015625 -4.90625q0 1.734375 0.484375 2.515625q0.765625 1.265625 2.09375 1.265625q1.078125 0 1.859375 -0.9375q0.78125 -0.9375 0.78125 -2.78125q0 -1.890625 -0.75 -2.796875q-0.75 -0.90625 -1.828125 -0.90625q-1.0625 0 -1.859375 0.9375q-0.78125 0.9375 -0.78125 2.703125z" fill-rule="nonzero"/><path fill="#000000" fill-opacity="0.0" d="m488.96063 104.87682l0 0c0 -5.085182 4.122345 -9.207535 9.20752 -9.207535l390.49835 0c2.4419556 0 4.7839355 0.9700775 6.510681 2.6968231c1.7267456 1.7267532 2.6968384 4.0687256 2.6968384 6.5107117l0 36.829033c0 5.0851746 -4.1223755 9.207535 -9.20752 9.207535l-390.49835 0l0 0c-5.0851746 0 -9.20752 -4.12236 -9.20752 -9.207535z" fill-rule="evenodd"/><path stroke="#595959" stroke-width="1.0" stroke-linejoin="round" stroke-linecap="butt" d="m488.96063 104.87682l0 0c0 -5.085182 4.122345 -9.207535 9.20752 -9.207535l390.49835 0c2.4419556 0 4.7839355 0.9700775 6.510681 2.6968231c1.7267456 1.7267532 2.6968384 4.0687256 2.6968384 6.5107117l0 36.829033c0 5.0851746 -4.1223755 9.207535 -9.20752 9.207535l-390.49835 0l0 0c-5.0851746 0 -9.20752 -4.12236 -9.20752 -9.207535z" fill-rule="evenodd"/><path fill="#000000" d="m668.9246 130.21133l0 -13.359375l5.046875 0q1.328125 0 2.03125 0.125q0.96875 0.171875 1.640625 0.640625q0.671875 0.453125 1.078125 1.28125q0.40625 0.828125 0.40625 1.828125q0 1.703125 -1.09375 2.890625q-1.078125 1.171875 -3.921875 1.171875l-3.421875 0l0 5.421875l-1.765625 0zm1.765625 -7.0l3.453125 0q1.71875 0 2.4375 -0.640625q0.71875 -0.640625 0.71875 -1.796875q0 -0.84375 -0.421875 -1.4375q-0.421875 -0.59375 -1.125 -0.78125q-0.4375 -0.125 -1.640625 -0.125l-3.421875 0l0 4.78125zm10.4279785 7.0l0 -13.359375l1.640625 0l0 13.359375l-1.640625 0zm10.519775 0l0 -1.421875q-1.125 1.640625 -3.0625 1.640625q-0.859375 0 -1.609375 -0.328125q-0.734375 -0.328125 -1.09375 -0.828125q-0.359375 -0.5 -0.5 -1.21875q-0.109375 -0.46875 -0.109375 -1.53125l0 -5.984375l1.640625 0l0 5.359375q0 1.28125 0.109375 1.734375q0.15625 0.640625 0.65625 1.015625q0.5 0.375 1.234375 0.375q0.734375 0 1.375 -0.375q0.65625 -0.390625 0.921875 -1.03125q0.265625 -0.65625 0.265625 -1.890625l0 -5.1875l1.640625 0l0 9.671875l-1.46875 0zm3.7351074 0.796875l1.59375 0.234375q0.109375 0.75 0.5625 1.078125q0.609375 0.453125 1.671875 0.453125q1.140625 0 1.75 -0.453125q0.625 -0.453125 0.84375 -1.265625q0.125 -0.5 0.109375 -2.109375q-1.0625 1.265625 -2.671875 1.265625q-2.0 0 -3.09375 -1.4375q-1.09375 -1.4375 -1.09375 -3.453125q0 -1.390625 0.5 -2.5625q0.515625 -1.171875 1.453125 -1.796875q0.953125 -0.640625 2.25 -0.640625q1.703125 0 2.8125 1.375l0 -1.15625l1.515625 0l0 8.359375q0 2.265625 -0.46875 3.203125q-0.453125 0.9375 -1.453125 1.484375q-0.984375 0.546875 -2.453125 0.546875q-1.71875 0 -2.796875 -0.78125q-1.0625 -0.765625 -1.03125 -2.34375zm1.359375 -5.8125q0 1.90625 0.75 2.78125q0.765625 0.875 1.90625 0.875q1.125 0 1.890625 -0.859375q0.765625 -0.875 0.765625 -2.734375q0 -1.78125 -0.796875 -2.671875q-0.78125 -0.90625 -1.890625 -0.90625q-1.09375 0 -1.859375 0.890625q-0.765625 0.875 -0.765625 2.625zm9.328857 -6.453125l0 -1.890625l1.640625 0l0 1.890625l-1.640625 0zm0 11.46875l0 -9.671875l1.640625 0l0 9.671875l-1.640625 0zm4.1448364 0l0 -9.671875l1.46875 0l0 1.375q1.0625 -1.59375 3.078125 -1.59375q0.875 0 1.609375 0.3125q0.734375 0.3125 1.09375 0.828125q0.375 0.5 0.515625 1.203125q0.09375 0.453125 0.09375 1.59375l0 5.953125l-1.640625 0l0 -5.890625q0 -1.0 -0.203125 -1.484375q-0.1875 -0.5 -0.671875 -0.796875q-0.484375 -0.296875 -1.140625 -0.296875q-1.046875 0 -1.8125 0.671875q-0.75 0.65625 -0.75 2.515625l0 5.28125l-1.640625 0z" fill-rule="nonzero"/><path fill="#000000" fill-opacity="0.0" d="m60.929134 34.01068l0 0c0 -5.0851784 4.122349 -9.207531 9.207531 -9.207531l390.49832 0c2.441986 0 4.783966 0.9700756 6.5107117 2.6968231c1.7267456 1.7267475 2.6968384 4.06872 2.6968384 6.510708l0 36.829033c0 5.0851746 -4.1223755 9.207527 -9.20755 9.207527l-390.49832 0l0 0c-5.085182 0 -9.207531 -4.1223526 -9.207531 -9.207527z" fill-rule="evenodd"/><path stroke="#595959" stroke-width="1.0" stroke-linejoin="round" stroke-linecap="butt" d="m60.929134 34.01068l0 0c0 -5.0851784 4.122349 -9.207531 9.207531 -9.207531l390.49832 0c2.441986 0 4.783966 0.9700756 6.5107117 2.6968231c1.7267456 1.7267475 2.6968384 4.06872 2.6968384 6.510708l0 36.829033c0 5.0851746 -4.1223755 9.207527 -9.20755 9.207527l-390.49832 0l0 0c-5.085182 0 -9.207531 -4.1223526 -9.207531 -9.207527z" fill-rule="evenodd"/><path fill="#000000" d="m240.89314 59.345196l0 -13.359375l5.046875 0q1.328125 0 2.03125 0.125q0.96875 0.171875 1.640625 0.640625q0.671875 0.453125 1.078125 1.28125q0.40625 0.828125 0.40625 1.828125q0 1.703125 -1.09375 2.890625q-1.078125 1.171875 -3.921875 1.171875l-3.421875 0l0 5.421875l-1.765625 0zm1.765625 -7.0l3.453125 0q1.71875 0 2.4375 -0.640625q0.71875 -0.640625 0.71875 -1.796875q0 -0.84375 -0.421875 -1.4375q-0.421875 -0.59375 -1.125 -0.78125q-0.4375 -0.125 -1.640625 -0.125l-3.421875 0l0 4.78125zm10.427948 7.0l0 -13.359375l1.640625 0l0 13.359375l-1.640625 0zm10.519821 0l0 -1.421875q-1.125 1.640625 -3.0625 1.640625q-0.859375 0 -1.609375 -0.328125q-0.734375 -0.328125 -1.09375 -0.828125q-0.359375 -0.5 -0.5 -1.21875q-0.109375 -0.46875 -0.109375 -1.53125l0 -5.984375l1.640625 0l0 5.359375q0 1.28125 0.109375 1.734375q0.15625 0.640625 0.65625 1.015625q0.5 0.375 1.234375 0.375q0.734375 0 1.375 -0.375q0.65625 -0.390625 0.921875 -1.03125q0.265625 -0.65625 0.265625 -1.890625l0 -5.1875l1.640625 0l0 9.671875l-1.46875 0zm3.735077 0.796875l1.59375 0.234375q0.109375 0.75 0.5625 1.078125q0.609375 0.453125 1.671875 0.453125q1.140625 0 1.75 -0.453125q0.625 -0.453125 0.84375 -1.265625q0.125 -0.5 0.109375 -2.109375q-1.0625 1.265625 -2.671875 1.265625q-2.0 0 -3.09375 -1.4375q-1.09375 -1.4375 -1.09375 -3.453125q0 -1.390625 0.5 -2.5625q0.515625 -1.171875 1.453125 -1.796875q0.953125 -0.640625 2.25 -0.640625q1.703125 0 2.8125 1.375l0 -1.15625l1.515625 0l0 8.359375q0 2.265625 -0.46875 3.203125q-0.453125 0.9375 -1.453125 1.484375q-0.984375 0.546875 -2.453125 0.546875q-1.71875 0 -2.796875 -0.78125q-1.0625 -0.765625 -1.03125 -2.34375zm1.359375 -5.8125q0 1.90625 0.75 2.78125q0.765625 0.875 1.90625 0.875q1.125 0 1.890625 -0.859375q0.765625 -0.875 0.765625 -2.734375q0 -1.78125 -0.796875 -2.671875q-0.78125 -0.90625 -1.890625 -0.90625q-1.09375 0 -1.859375 0.890625q-0.765625 0.875 -0.765625 2.625zm9.328857 -6.453125l0 -1.890625l1.640625 0l0 1.890625l-1.640625 0zm0 11.46875l0 -9.671875l1.640625 0l0 9.671875l-1.640625 0zm4.144806 0l0 -9.671875l1.46875 0l0 1.375q1.0625 -1.59375 3.078125 -1.59375q0.875 0 1.609375 0.3125q0.734375 0.3125 1.09375 0.828125q0.375 0.5 0.515625 1.203125q0.09375 0.453125 0.09375 1.59375l0 5.953125l-1.640625 0l0 -5.890625q0 -1.0 -0.203125 -1.484375q-0.1875 -0.5 -0.671875 -0.796875q-0.484375 -0.296875 -1.140625 -0.296875q-1.046875 0 -1.8125 0.671875q-0.75 0.65625 -0.75 2.515625l0 5.28125l-1.640625 0z" fill-rule="nonzero"/></g></svg>
</div>

##### V2모듈의 적재구조에 따른 다른 모듈을 포함시키는 방법

| 메인 모듈 \ 포함시킬 모듈 | Page모듈 | PageSub모듈 | Plugins모듈 |
| --- | --- | --- | --- |
| Page모듈 | × | ○<br>`Html.PageSub(string pageSubModuleName)` | ○<br>`Html.Plugin(string pluginModuleName)` |
| PageSub모듈 | × | × | ○<br>`Html.Plugin(string pluginModuleName)` |
| Plugins모듈 | × | × | △<br>`Html.Plugin(string pluginModuleName` - 불가<br>`Html.ServicePlugin(string servicePluginModuleName)` - 가능 |

Plugins 모듈은 랜더링될 뷰가 존재하는 타입(기본)과 뷰가 없이 스크립트 라이브러리만 제공되는 타입으로 존재합니다.
기본적으로 Plugins 모듈은 다른 Plugins모듈을 포함할 수 없으나 스크립트 라이브러리만 제공되는 서비스 형태의 플러그인은 예외적으로 포함시킬 수 있습니다.

##### Html 확장 함수
다른 모듈을 포함시키기 위해 Html 확장 함수를 지원합니다.
이 함수를 사용하여 포함 시킬 모듈의 경로, 라우팅 조건 등의 설정에서 자유로워 지십시오.

###### Html.PageSub(string pageSubModuleName)
Page 모듈에 PageSub 모듈을 포함시킬 때 사용합니다.
대상 모듈은 RenderAction 형태로 포함되게 됩니다.
```html
@Html.PageSub("MyPageSub")
```

###### Html.Plugin(string pluginName)
Page 모듈과 PageSub 모듈에 Plugins 모듈을 포함시킬 때 사용합니다.
대상 모듈은 RenderAction 형태로 포함되게 됩니다.
Plugin 모듈에서는 다른 Plugin 모듈을 포함할 수 없습니다. (ServicePlugins은 허용)
```html
@Html.Plugin("MyPlugin")
```

###### Html.ServicePlugin(string servicePluginName)
Page, PageSub, Plugins 모듈에 ServicePlugins 모듈을 포함시킬 때 사용합니다.
대상 모듈은 RenderPartial 형태로 포함되게 됩니다.
주로 DOM을 제어하는 스크립트, 언어, CSS 등의 서비스 패키지를 가져올 때 사용합니다.
```html
@Html.ServicePlugin("MyPluginService") // 서비스 플러그인은 항상 Service를 접미어를 포함하여 개발됩니다.
```

### 3.2.3. angularJs 작성
각각 랜더링되는 모듈의 DOM의 제어를 위해 angularJs 기술을 사용합니다.
V2아키텍처의 View모듈들은 항상 자신의 이름과 같은 Javascript를 자동으로 로드합니다.
때문에, angularJs로 작성되는 모듈과 여기서 만들어지는 controller, service, directive 등은 해당 모듈에 종속적이게 됩니다.

angularJs의 작성은 약속된 구현패턴이 있습니다.
일관된 구현패턴은 코드 리딩과 유지보수에 도움을 줍니다.
그리고 자주 작성되는 코드의 양을 줄일 수 있습니다.
패턴을 사용할 때, bootstrap될 메인 app에 작성된 서브 모듈들이 동작할 수 있도록 자동으로 주입되고, 외부에서 작성된 공통기능들이 작성되는 모듈에서 사용할 수 있도록 처리되는 기술적 지원이 있습니다.

`$tq`는 그렇게 하기위한 스크립트 개발의 시작입니다.

#### 3.2.3.1. $tq로 angularJs 모듈 작성 시작하기
```js
;$tq(function(module){
  'use strict';
  module.controller('Page.SimpleUserInfoManagement', ['$scope', function($scope){
    var ctrl = this; // this 처리
    // event
    $scope.evt = {

    };
    // fn
    // init
    $scope.$onInit = function(){
      // model 초기화
      // 추가 초기화 작업
    }
  }]);
})(angular.module('Page.SimpleUserInfoManagement', [])); // 모듈정의
```
##### $tq 작성 규칙
$tq로 부터 angulaJs script를 작성할 때, module과 controller, service에 대해 명명규칙이 존재 합니다.
이 것은 여러 모듈들이 중복되지 않게 하기 위해서 중요합니다. 
위의 예제 처럼 긴 명명규칙은 스크립트 용량에 악영향을 줄 수 있지만, 현재는 퍼포먼스 보다 관리가능한 규칙에대해 더 가치를 두고 있습니다.

###### angularJs 모듈의 명명규칙

| angularJs 모듈 | 명명 규칙 |
| --- | --- |
| module | {V2아키텍처모듈타입}.{V2아키텍처모듈명}<br>ex) `angular.module('Page.SimpleUserInfoManagement', [])'`<br>**속성설명**:<br>*V2아키텍처모듈타입, 모듈명*: 모듈이 위치하는 Areas명 입니다. |
| controller | {V2아키텍처모듈타입}.{V2아키텍처모듈명}{_추가명명}Ctrl<br>ex) `angular.controller('Page.SimpleUserInfoManagementCtrl', [...])'`<br>**속성설명**:<br>*_추가명명*: 모듈에 컨트롤러가 2개 이상 필요한 경우 접두어 '_'와 함게 간략한 컨트롤러명을 명명하십시오. <br>controller 들은 접미어로 Ctrl을 갖습니다. |
| service | {V2아키텍처모듈타입}.{V2아키텍처모듈명}.svc<br>ex) `angular.service('Page.SimpleUserInfoManagement.svc', [...])'`<br>모듈에서 $http를 사용하는 모든 호출 로직은 이 하나의 서비스에 구현하십시오. |
| directive, component, filtter etc.. | {유니크한명명}<br>ex) `angular.directive('myDirective', {...})'`<br><br>**속성설명**:<br>*유니크한명명*: directive와 component는 보통 그 존재만으로 다른 모듈에 중복되지 않고 유일성을 갖게 됩니다. 때문에 중복에 대한 고민보다 짧은 명칭을 선호합니다. |
| i18n value | {V2아키텍처모듈타입}.{V2아키텍처모듈명}.Locale<br>ex) `angular.module('Page.SimpleUserInfoManagement.Locale', [])'`<br>i18n 언어팩은 접미어로 .Locale을 포함합니다. |

###### controller 구현 규칙
controller, directive, component 에서 사용되는 controller 함수의 구현 규칙을 설명합니다.
controller 함수는 this 처리, init 구현, event 와 function 구현으로 나누어지며 규칙이 존재 합니다.

<p>1. 함수를 처음 선언하면 바로 this 처리를 해야 합니다.
angularJs의 model은 $scope가 아닌 함수 자체에 처리합니다.
이런 방식은 angularJs 디자인 패턴에서 많이 사용하는 방식이기도 하며, 다른점은 티쿤에서는 변수명을 vm이 아닌 ctrl로 한다는 것 입니다.</p>
```js
function SimpleUserInfoManagementCtrl($scope){
  var ctrl = this;
}
```
<p>2. init 초기화 로직 구현
처음 초기화 될 때, model(ctrl) 과 $scope의 속성을 정의합니다. 또, 필요한 첫 작업들을 $onInit함수에서 구현합니다.</p>
```js
function SimpleUserInfoManagementCtrl($scope){
  var ctrl = this;
  // fn
  function initNowDate(){
    ctrl.now = new Date();
  };
  // init
  $scope.$onInit = function(){
    // model 초기화
    $scope.scopeName = 'myScope';
    ctrl.searchParam = { target: 'ALL', searchValue: '' };
    ctrl.now;
    // 추가 초기화 작업
    initNowDate();
  }
}
```
<p>3. function 구현
$scope에 노출될 함수나 내부에서 사용될 함수를 한 곳에 정리하십시오.</p>
```js
function SimpleUserInfoManagementCtrl($scope){
  var ctrl = this;
  // fn - 함수는 모두 이곳에 정리됩니다.
  $scope.getFunctionName(){
    return "SimpleUserInfoManagementCtrl";
  };
  function initNowDate(){
    ctrl.now = new Date();
  };
}
```
<p>3. event function 구현
이벤트에 연결될 이벤트 연결 함수는 $scope.evt에 구현됩니다.</p>
```js
function SimpleUserInfoManagementCtrl($scope){
  var ctrl = this;
  // evt - 이벤트에 연결될 이벤트 연결 함수는 이곳에 정의 하십시오.
  $scope.evt = {
    remove: function(item){
      /* ... */
    },
    /* ... */
  };
}
```

### 3.2.4. i18n 언어처리
View의 다국어 언어처리는 View가 랜더링 된 후, angularJs를 통해 처리하고 있습니다.
때문에 보통의 javascript i18n처리의 그것처럼 V2아키텍처도 동일한 언어처리를 하고 있습니다.

V2아키텍처 모듈은 다국어 처리를 위해 다국어 언어 팩을 모듈의 하위 i18n 폴더에서 관리합니다.
언어팩을 만들고 `$scope.L`에 주입하십시오. 언어팩은 서비스 국가에 맞추어 자동으로 로드 됩니다.
```js
// SimpleUserInfoManagement-Locale_KR.js
$tq(function(module){
  module.value('Page.SimpleUserInfoManagement.Locale', {
    Title: '간단한 고객정보 관리',
    TableHeaders: {
      Id: '번호',
      FullName: '이름',
      Age: '나이',
      BirthDay: '생년월일'
    },
    Buttons: {
      Reg: '등록',
      Del: '삭제',
      Mod: '수정'
    }
  });
})(angular.module('Page.SimpleUserInfoManagement.Locale', []));

// 컨트롤러 구현부
var $inject = ['$scope', 'Page.SimpleUserInfoManagement.Locale'];
function SimpleUserInfoManagementCtrl($scope, Locale){ // Locale == 'Page.SimpleUserInfoManagement.Locale'
  var ctrl = this;
  $scope.$onInit = function(){
    $scope.L = Locale;
  }
}
```
```html
<!-- SimpleUserInfoManagement.cshtml -->
{%raw%}<h2>{{::L.Title}}</h2>
...
<button>{{::L.Buttons.Reg}}</button>{%endraw%}
```

### 3.2.5. 구현예제 보기
아래는 plnker를 통해 상당히 실제 구현과 비슷하게 만든 예제 입니다.

<iframe style="width:100%;height:600px" frameborder="0" src="//embed.plnkr.co/Zj08bTB0U9n8T5ETO8O3?sidebar=tree&autoCloseSidebar=false&show=SimpleUserInfoManagement.cshtml,preview&preview=true"></iframe>
